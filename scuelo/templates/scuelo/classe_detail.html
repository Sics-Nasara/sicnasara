<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Détails de la Classe</title>
    <style>
        /* Add CSS for styling the page to match your design */
    </style>
</head>
<body>
    <h2>Informations sur la classe</h2>
    
    <div>
        <strong>Class ID:</strong> {{ classe.id }}<br>
        <strong>Nom de l'école:</strong> {{ classe.ecole.nom }}<br>
        <strong>Classe:</strong> {{ classe.nom }}<br>
    </div>

    <div>
        <h3>Élèves</h3>
        <p>Total Élèves: {{ total_students }}</p>
        <p>CS: {{ cs_students }}, PY: {{ py_students }}, Autres: {{ autres_students }}</p>
    </div>

    <div>
        <h3>Frais par élève</h3>
        <table>
            <tr>
                <th>Type de Frais</th>
                <th>Montant</th>
                <th>Date d'échéance</th>
                <th>Tranche</th>
            </tr>
            {% for tarif in tarifs %}
            <tr>
                <td>{{ tarif.get_causal_display }}</td>
                <td>{{ tarif.montant }}</td>
                <td>{{ tarif.date_expiration }}</td>
                <td>{{ tarif.tranche }}</td>
            </tr>
            {% endfor %}
        </table>
    </div>

    <div>
        <h3>Progressif par élève par tranche</h3>
        <table>
            <tr>
                <th>Tranche</th>
                <th>Total à payer</th>
                <th>Total Progressif</th>
            </tr>
            {% for tranche in progressif_by_tranche %}
            <tr>
                <td>{{ tranche.tranche }}</td>
                <td>{{ tranche.total }}</td>
                <td>{{ tranche.progressif }}</td>
            </tr>
            {% endfor %}
        </table>
    </div>

    <div>
        <h3>Frais Total aujourd'hui</h3>
        <p><strong>Frais Scolarité Attendus:</strong> {{ total_expected_fees }}</p>
        <p><strong>Frais Scolarité Effectivement Payés:</strong> {{ total_paid_fees }}</p>

        <p><strong>Frais Tenues (PY):</strong> {{ total_uniforms_py }}</p>
        <p><strong>Frais Tenues (CS):</strong> {{ total_uniforms_cs }}</p>
    </div>
</body>
</html>
